spring:
  application:
    name: Midlo Backend
  config:
    import: optional:file:.env.local[.properties],optional:file:.env[.properties]

server:
  port: ${PORT:8080}

midlo:
  google:
    apiKey: ${GOOGLE_MAPS_API_KEY:}

  analytics:
    enabled: ${MIDLO_ANALYTICS_ENABLED:true}

  cors:
    allowedOrigins: ${MIDLO_CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173,https://midlo.ai,https://www.midlo.ai}
    # Patterns are used when you need LAN testing (phone on same Wiâ€‘Fi):
    # Origin becomes e.g. http://192.168.1.50:5173
    allowedOriginPatterns: ${MIDLO_CORS_ALLOWED_ORIGIN_PATTERNS:http://localhost:*,http://127.0.0.1:*,http://192.168.*.*:*,http://10.*.*.*:*,http://172.16.*.*:*}

management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info
  endpoint:
    health:
      probes:
        enabled: true


# ============================================================
# LOCAL ENVIRONMENT
# ============================================================
---
spring:
  config:
    activate:
      on-profile: local

logging:
  file:
    name: ${MIDLO_LOG_FILE:./logs/midlo-backend.log}
  level:
    com.midlo.backend: DEBUG

midlo:
  google:
    apiKey: ${GOOGLE_MAPS_API_KEY:}

  analytics:
    enabled: true

  cors:
    allowedOrigins: ${MIDLO_CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}
    allowedOriginPatterns: ${MIDLO_CORS_ALLOWED_ORIGIN_PATTERNS:http://localhost:*,http://127.0.0.1:*,http://192.168.*.*:*,http://10.*.*.*:*,http://172.16.*.*:*}


# ============================================================
# QA ENVIRONMENT
# ============================================================
---
spring:
  config:
    activate:
      on-profile: qa

midlo:
  google:
    apiKey: ${GOOGLE_MAPS_API_KEY}

  analytics:
    enabled: true

  cors:
    allowedOrigins: ${MIDLO_CORS_ALLOWED_ORIGINS:https://qa.midlo.ai}
    allowedOriginPatterns: ${MIDLO_CORS_ALLOWED_ORIGIN_PATTERNS:}


# ============================================================
# STAGING ENVIRONMENT
# ============================================================
---
spring:
  config:
    activate:
      on-profile: staging

midlo:
  google:
    apiKey: ${GOOGLE_MAPS_API_KEY}

  analytics:
    enabled: true

  cors:
    allowedOrigins: ${MIDLO_CORS_ALLOWED_ORIGINS:https://staging.midlo.ai}
    allowedOriginPatterns: ${MIDLO_CORS_ALLOWED_ORIGIN_PATTERNS:}


# ============================================================
# PRODUCTION ENVIRONMENT
# ============================================================
---
spring:
  config:
    activate:
      on-profile: prod

midlo:
  google:
    apiKey: ${GOOGLE_MAPS_API_KEY}

  analytics:
    enabled: true

  cors:
    allowedOrigins: ${MIDLO_CORS_ALLOWED_ORIGINS:https://midlo.ai,https://www.midlo.ai}
    allowedOriginPatterns: ${MIDLO_CORS_ALLOWED_ORIGIN_PATTERNS:}
